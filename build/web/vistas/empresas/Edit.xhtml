<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <p:dialog id="EditDlg" style="font-size: 10pt; color: #045491" widgetVar="EditDialog" modal="true" resizable="false" appendTo="@(body)" header="#{bundle.EditarEmpresa}"
                  onShow="PF('EditDialog').initPosition()">
            <h:form id="EditForm">
               <h:panelGroup id="display">
                <p:tabView>
                    <p:tab title="Datos de la empresa">
                    <p:panelGrid columns="2" style="width: 100%"  rendered="#{empresacontroller.registroMod != null}">
                        
                        <p:outputLabel value="#{bundle.NombreFantasiaEmpresa}" for="nombre" style="font-size: 10pt; color: #045491 " />
                        <p:inputText id="nombre" value="#{empresacontroller.registroMod.nombreFantasia}" required="true" size="40" maxlength="100" 
                                     style="font-size: 10pt; color: #045491 "/>
                        <p:outputLabel value="#{bundle.RazonSocialEmpresa}" for="razon" style="font-size: 10pt; color: #045491 "/>
                        <p:inputText id="razon" value="#{empresacontroller.registroMod.razonSocial}" size="40" maxlength="100"
                                     style="font-size: 10pt; color: #045491 "/>
                        
                        <p:outputLabel value="#{bundle.CuitEmpresa}" for="cuit" style="font-size: 10pt; color: #045491 " />
                        <p:inputText id="cuit" value="#{empresacontroller.registroMod.cuit}" style="font-size: 10pt; color: #045491 "/>
                        
                        <p:outputLabel value="#{bundle.ObservacionesEmpresa}" for="observaciones" style="width:80%; font-size: 10pt; color: #045491 "/>
                        <p:inputTextarea id="observaciones" maxlength="255" rows="3" cols="40" value="#{empresacontroller.registroMod.observaciones}"
                                         style="font-size: 10pt; color: #045491 "/>                        
                        <p:outputLabel value="#{bundle.DireccionEmpresa}" for="direccion" style="font-size: 10pt; color: #045491 "/>
                        <p:inputText id="direccion" value="#{empresacontroller.registroMod.direccion}" size="40" maxlength="100"
                                     style="width:80%; font-size: 10pt; color: #045491 "/>
                        <p:outputLabel value="#{bundle.ProvinciaEmpresa}" for="provincia" style="font-size: 10pt; color: #045491 " />
                        <p:selectOneMenu id="provincia"
                                         value="#{empresacontroller.registroMod.provincia.id}" required="true" style="font-size: 10pt; color: #045491 ">
                            <f:selectItems value="#{listaprovincias.items}" />
                        </p:selectOneMenu>

                        <p:outputLabel value="#{bundle.TelFijoEmpresa}" for="telfijo" style="font-size: 10pt; color: #045491 " />
                        <p:inputText id="telfijo" value="#{empresacontroller.registroMod.telefonoFijo}" size="30" maxlength="100"
                                         style="font-size: 10pt; color: #045491 "/>
                        <p:outputLabel value="#{bundle.TelMovilEmpresa}" for="telmovil" style="font-size: 10pt; color: #045491 "/>
                        <p:inputText id="telmovil" value="#{empresacontroller.registroMod.telefonoMovil}" size="30" maxlength="100"
                                         style="font-size: 10pt; color: #045491 "/>
                        
                        <p:outputLabel value="#{bundle.ContactoEmpresa}" for="contacto" style="font-size: 10pt; color: #045491 "/>                            
                        <p:inputText id="contacto" value="#{empresacontroller.registroMod.contacto}" size="40" style="font-size: 10pt; color: #045491 "/>
                        <p:outputLabel value="#{bundle.EmailEmpresa}" for="email" style="font-size: 10pt; color: #045491 "/>
                        <p:inputText id="email" value="#{empresacontroller.registroMod.email}" size="40" style="font-size: 10pt; color: #045491 "/>
                        
                        
                    </p:panelGrid>
                    
                    </p:tab>
                    
                    <p:tab title="Logo">
                        <p:panelGrid columns="2" rendered="#{empresacontroller.registroMod != null}">
                        
                        <p:outputLabel value="#{bundle.SitioWebEmpresa}" for="sitioweb" style="font-size: 10pt; color: #045491 " />
                        <p:inputText id="sitioweb" value="#{empresacontroller.registroMod.sitioWeb}" size="40" style="font-size: 10pt; color: #045491 "/>
                        <p:outputLabel value="#{bundle.SitioNoticiasEmpresa}" for="sitionoticias" style="font-size: 10pt; color: #045491 "/>
                        <p:inputText id="sitionoticias" value="#{empresacontroller.registroMod.sitioNoticias}" size="40"  style="font-size: 10pt; color: #045491 "/>
                        
                        <p:outputLabel value="#{bundle.TextoPromoEmpresa}" for="textoprom" style="font-size: 10pt; color: #045491 "/>
                        <p:inputTextarea id="textoprom" maxlength="4000" rows="5" cols="60" 
                                         value="#{empresacontroller.registroMod.textoPromociones}" style="font-size: 10pt; color: #045491 "/>  
                        
                        <p:fileUpload fileUploadListener="#{empresacontroller.handleFileUpload}" update="logo" 
                                      label="Seleccionar imagen..." uploadLabel="Subir imagen"  cancelLabel="Cancelar"
                                      mode="advanced" auto="true" sizeLimit="300000" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" 
                                      style="font-size: 10pt; color: #045491"/>                        
                        
                        <p:graphicImage cache="false" height="200" id="logo"  value="#{empresacontroller.foto}" />
                        
                        </p:panelGrid>
                        
                    </p:tab>
                    
                    <p:tab title="Otros">
                        
                        
                        <p:panelGrid columns="2" rendered="#{empresacontroller.registroMod != null}">
                            
                        <p:outputLabel value="%IVA Ventas:" for="porcIvaVentas" style="font-size: 10pt; color: #045491"/>
                        <p:inputText id="porcIvaVentas" value="#{empresacontroller.registroMod.porcIvaVentas}" required="true" 
                                     style="text-align: right; font-size: 10pt; color: #045491" size="35" maxlength="15" >
                            <f:convertNumber pattern="#,##0.00" />
                        </p:inputText>                            
                            
                        <p:outputLabel value="%Viajes simples:" for="porcViajesSimples" style="font-size: 10pt; color: #045491"/>
                        <p:inputText id="porcViajesSimples" value="#{empresacontroller.registroMod.porcViajesSimples}" required="true" 
                                     style="text-align: right; font-size: 10pt; color: #045491" size="35" maxlength="15" >
                            <f:convertNumber pattern="#,##0" />
                        </p:inputText>
                        
                        <p:outputLabel value="%Viajes dobles:" for="porcViajesDobles" style="font-size: 10pt; color: #045491"/>
                        <p:inputText id="porcViajesDobles" value="#{empresacontroller.registroMod.porcViajesDobles}" required="true" 
                                     style="text-align: right; font-size: 10pt; color: #045491" size="35" maxlength="15" >
                            <f:convertNumber pattern="#,##0" />
                        </p:inputText>
                        
                        <p:outputLabel value="Pago a cuenta de IVA por cabeza:" for="pagoCuentaIva" style="font-size: 10pt; color: #045491"/>
                        <p:inputText id="pagoCuentaIva" value="#{empresacontroller.registroMod.pagoCuentaIva}" required="true" 
                                     style="text-align: right; font-size: 10pt; color: #045491" size="35" maxlength="15" >
                            <f:convertNumber pattern="#,##0.00" />
                        </p:inputText>   
                        
                        <p:outputLabel value="%Ing. Brutos:" for="porcIngBrutos" style="font-size: 10pt; color: #045491"/>
                        <p:inputText id="porcIngBrutos" value="#{empresacontroller.registroMod.porcIngBrutos}" required="true" 
                                     style="text-align: right; font-size: 10pt; color: #045491" size="35" maxlength="15" >
                            <f:convertNumber pattern="##0.00" />
                        </p:inputText>   
                        
                        <p:outputLabel value="Costo flete por media res:" for="costoFleteMediaRes" style="font-size: 10pt; color: #045491"/>
                        <p:inputText id="costoFleteMediaRes" value="#{empresacontroller.registroMod.costoFleteEntrega}" required="true" 
                                     style="text-align: right; font-size: 10pt; color: #045491" size="35" maxlength="15" >
                            <f:convertNumber pattern="#,##0.00" />
                        </p:inputText>   
                        
                        <p:outputLabel value="#{bundle.MP_PublicKey}" for="MP_PublicKey" style="font-size: 10pt; color: #045491 " />
                        <p:inputText id="MP_PublicKey" value="#{empresacontroller.registroMod.mpPublicKey}" maxlength="100" size="80" style="font-size: 10pt; color: #045491 "/>
                        
                        <p:outputLabel value="#{bundle.MP_AccessToken}" for="MP_AccessToken" style="font-size: 10pt; color: #045491 " />
                        <p:inputText id="MP_AccessToken" value="#{empresacontroller.registroMod.mpAccessToken}" maxlength="100" size="80" style="font-size: 10pt; color: #045491 "/>
                        </p:panelGrid>                        
                    </p:tab>
                    
                    <p:tab title="Cuenta de correo del sistema">
                        
                        <p:panelGrid columns="2" rendered="#{empresacontroller.registroMod != null}">
                        <p:outputLabel value="Cuenta:" for="cuentaEmail" style="font-size: 10pt; color: #045491"/>
                        <p:inputText id="cuentaEmail" value="#{empresacontroller.registroMod.emailSistemas}" 
                                     style="text-align: left; font-size: 10pt; color: #045491" size="50" maxlength="100" >
                        </p:inputText>
                        
                        <p:outputLabel value="Clave:" for="claveEmail" style="font-size: 10pt; color: #045491"/>
                        <p:inputText id="claveEmail" value="#{empresacontroller.registroMod.claveEmail}"  
                                     style="text-align: left; font-size: 10pt; color: #045491" size="50" maxlength="100" >
                        </p:inputText>
                        
                        <p:outputLabel value="Servidor SMTP:" for="servidorEmail" style="font-size: 10pt; color: #045491"/>
                        <p:inputText id="servidorEmail" value="#{empresacontroller.registroMod.hostSmtp}" 
                                     style="text-align: left; font-size: 10pt; color: #045491" size="50" maxlength="100" >
                        </p:inputText>

                        <p:outputLabel value="Puerto:" for="puertoEmail" style="font-size: 10pt; color: #045491"/>
                        <p:inputText id="puertoEmail" value="#{empresacontroller.registroMod.puertoEmail}" 
                                     style="text-align: left; font-size: 10pt; color: #045491" size="50" maxlength="15" >
                        </p:inputText>
                        
                        <p:outputLabel value="StartTLS:" for="startTLS" style="font-size: 10pt; color: #045491"/>
                        <p:selectOneMenu id="startTLS" value="#{empresacontroller.registroMod.startTls}" style="font-size: 10pt; color: #045491 ">
                            <f:selectItem itemLabel="true" itemValue="true"/>
                            <f:selectItem itemLabel="false" itemValue="false"/>
                        </p:selectOneMenu>
                        
                        <p:outputLabel value="AUTH:" for="auth" style="font-size: 10pt; color: #045491"/>
                        <p:selectOneMenu id="auth" value="#{empresacontroller.registroMod.auth}" style="font-size: 10pt; color: #045491 ">
                            <f:selectItem itemLabel="true" itemValue="true"/>
                            <f:selectItem itemLabel="false" itemValue="false"/>
                        </p:selectOneMenu>
                        
                        </p:panelGrid>                        
                    </p:tab>
                   
                    <p:tab title="Cuentas contables">
                        
                        <p:panelGrid columns="2" rendered="#{empresacontroller.registroMod != null}">
                        <p:outputLabel value="Costo de tropa:" for="ccCostoTropa" style="font-size: 10pt; color: #045491"/>
                        <p:inputNumber id="ccCostoTropa" value="#{empresacontroller.registroMod.ccCostoTropa}" 
                                     style="width: 100%; text-align: left; font-size: 10pt; color: #045491" size="40" maxlength="30" 
                                     autocomplete="off" decimalPlaces="0" thousandSeparator="">
                        </p:inputNumber>   
                        
                        <p:outputLabel value="Ing. Brutos Tropas:" for="ccIngBrutos" style="font-size: 10pt; color: #045491"/>
                        <p:inputNumber id="ccIngBrutos" value="#{empresacontroller.registroMod.ccIngBrutos}" 
                                     style="width: 100%; text-align: left; font-size: 10pt; color: #045491" size="40" maxlength="30" 
                                     autocomplete="off" decimalPlaces="0" thousandSeparator="">
                        </p:inputNumber>   
                        
                        <p:outputLabel value="Pago VEP:" for="ccPagoVep" style="font-size: 10pt; color: #045491"/>
                        <p:inputNumber id="ccPagoVep" value="#{empresacontroller.registroMod.ccPagoVep}" 
                                     style="width: 100%; text-align: left; font-size: 10pt; color: #045491" size="40" maxlength="30" 
                                     autocomplete="off" decimalPlaces="0" thousandSeparator="">
                        </p:inputNumber>   

                        
                        <p:outputLabel value="Venta de carne:" for="ccVentaCarne" style="font-size: 10pt; color: #045491"/>
                        <p:inputNumber id="ccVentaCarne" value="#{empresacontroller.registroMod.ccVentaCarne}" 
                                     style="width: 100%; text-align: left; font-size: 10pt; color: #045491" size="40" maxlength="30" 
                                     autocomplete="off" decimalPlaces="0" thousandSeparator="">
                        </p:inputNumber>   

                        <p:outputLabel value="Costo Merc. Vendida:" for="ccCostoMercVendida" style="font-size: 10pt; color: #045491"/>
                        <p:inputNumber id="ccCostoMercVendida" value="#{empresacontroller.registroMod.ccCostoMercVendida}" 
                                     style="width: 100%; text-align: left; font-size: 10pt; color: #045491" size="40" maxlength="30" 
                                     autocomplete="off" decimalPlaces="0" thousandSeparator="">
                        </p:inputNumber>   

                        <p:outputLabel value="Tropas en cámara:" for="ccTropasCamara" style="font-size: 10pt; color: #045491"/>
                        <p:inputNumber id="ccTropasCamara" value="#{empresacontroller.registroMod.ccTropasCamara}" 
                                     style="width: 100%; text-align: left; font-size: 10pt; color: #045491" size="40" maxlength="30" 
                                     autocomplete="off" decimalPlaces="0" thousandSeparator="">
                        </p:inputNumber>  
                        
                        </p:panelGrid>                        
                    </p:tab>
                    
                </p:tabView> 
                
                <p:commandButton ajax="true" actionListener="#{empresacontroller.graba}" value="#{bundle.Save}" update="display,:ListaForm:datos,:growl" oncomplete="handleSubmit(args, 'EditDialog');"
                                     style="font-size: 10pt; color: #045491 "/>
                <p:commandButton value="#{bundle.Cancel}" onclick="EditDialog.hide()" immediate="true" style="font-size: 10pt; color: #045491 "/>
                    
             </h:panelGroup>                   
                
            </h:form>
        </p:dialog>

    </ui:composition>
</html>
